<?php
/**
 * Zenya Academy Teması için header dosyası.
 */
require_once get_template_directory() . '/inc/walker-nav-menu-description.php';
?>
<!DOCTYPE html>
<html <?php language_attributes(); ?>>
<head>
    <meta charset="<?php bloginfo('charset'); ?>">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title><?php wp_title('|', true, 'right'); ?> <?php bloginfo('name'); ?></title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <?php wp_head(); ?>
</head>
<body <?php body_class(); ?>>
    <header class="site-header">
        <div class="header-container">
            <div class="header-content">
                <div class="logo">
                    <?php
                    if (has_custom_logo()) {
                        the_custom_logo();
                    } else {
                        echo '<img src="' . get_template_directory_uri() . '/assets/images/TEKLOG.png" id="zenya-logo-image" alt="Zenya Academy Logo">';
                    }
                    ?>
                    <h1 id="zenya-academy-title">ZENYA ACADEMY</h1>
                </div>
                
                <nav class="main-navigation">
                    <button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false">
                        <span class="menu-icon">
                            <span></span>
                            <span></span>
                            <span></span>
                        </span>
                        <span class="screen-reader-text"><?php esc_html_e( 'Menü', 'zenya' ); ?></span>
                    </button>
                    <?php
                    wp_nav_menu(array(
                        'theme_location'  => 'primary',
                        'menu_id'         => 'primary-menu',
                        'container'       => false,
                        'menu_class'      => 'menu',
                        'depth'           => 3,
                        'fallback_cb'     => false,
                        'walker'          => new Zenya_Walker_Nav_Menu_Description(),
                        'items_wrap'      => '<ul id="%1$s" class="%2$s">%3$s</ul>',
                        'link_before'     => '<span class="menu-item-text">',
                        'link_after'      => '</span>',
                        'item_spacing'    => 'discard'
                    ));
                    ?>
                </nav>
                <div class="header-actions">
                    <?php 
                    // Arama ikonu
                    echo '<a href="#search-modal" class="search-toggle" aria-label="' . esc_attr__('Arama', 'zenya') . '">';
                    echo '<i class="fas fa-search"></i>';
                    echo '</a>';
                    
                    // Kullanıcı girişi/üyelik bağlantısı
                    if (is_user_logged_in()) {
                        echo '<a href="' . esc_url(get_edit_profile_url()) . '" class="user-account" aria-label="' . esc_attr__('Hesabım', 'zenya') . '">';
                        echo '<i class="fas fa-user"></i>';
                        echo '</a>';
                    } else {
                        echo '<a href="' . esc_url(wp_login_url(get_permalink())) . '" class="user-login" aria-label="' . esc_attr__('Giriş Yap', 'zenya') . '">';
                        echo '<i class="fas fa-sign-in-alt"></i>';
                        echo '</a>';
                    }
                    ?>
                </div>
            </div>
        </div>
    </header>
</body>
</html>